#!/bin/sh

# DaedalusOS pre-commit hook to mirror CI checks.

set -eu

REPO_ROOT="$(git rev-parse --show-toplevel)"
cd "$REPO_ROOT"

echo "→ Running cargo fmt -- --check"
cargo fmt -- --check

echo "→ Running cargo clippy"
cargo clippy --all-targets -- -D warnings

echo "→ Running cargo test"
cargo test

echo "→ Running cargo build --release"
cargo build --release

echo "✓ All pre-commit checks passed"
